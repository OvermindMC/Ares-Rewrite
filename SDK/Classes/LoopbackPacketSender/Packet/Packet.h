#pragma once

#include "../../../../Mem/Mem.h"

enum class PacketID : int {
    Login = 1,
    Play_Status = 2,
    Server_To_Client_Handshake = 3,
    Client_To_Server_Handshake = 4,
    Disconnect = 5,
    Resource_Packs_Info = 6,
    Resource_Pack_Stack = 7,
    Resource_Pack_Client_Response = 8,
    Text = 9,
    Set_Time = 10,
    Start_Game = 11,
    Add_Player = 12,
    Add_Entity = 13,
    Remove_Entity = 14,
    Add_Item_Entity = 15,
    Take_Item_Entity = 17,
    Move_Entity = 18,
    Move_Player = 19,
    Rider_Jump = 20,
    Update_Block = 21,
    Add_Painting = 22,
    Tick_Sync = 23,
    Level_Sound_Event_Old = 24,
    Level_Event = 25,
    Block_Event = 26,
    Entity_Event = 27,
    Mob_Effect = 28,
    Update_Attributes = 29,
    Inventory_Transaction = 30,
    Mob_Equipment = 31,
    Mob_Armor_Equipment = 32,
    Interact = 33,
    Block_Pick_Request = 34,
    Entity_Pick_Request = 35,
    Player_Action = 36,
    Hurt_Armor = 38,
    Set_Entity_Data = 39,
    Set__Entity_Motion = 40,
    Set_Entity_Link = 41,
    Set_Health = 42,
    Set_Spawn_Position = 43,
    Animate = 44,
    Respawn = 45,
    Container_Open = 46,
    Container_Close = 47,
    Player_Hotbar = 48,
    Inventory_Content = 49,
    Inventory_Slot = 50,
    Container_Set_Data = 51,
    Crafting_Data = 52,
    Crafting_Event = 53,
    Gui_Data_Pick_Item = 54,
    Adventure_Settings = 55,
    Block_Entity_Data = 56,
    Player_Input = 57,
    Level_Chunk = 58,
    Set_Commands_Enabled = 59,
    Set_Difficulty = 60,
    Change_Dimension = 61,
    Set_Player_Game_Type = 62,
    Player_List = 63,
    Simple_Event = 64,
    Event = 65,
    Spawn_Experience_Orb = 66,
    Clientbound_Map_Item_Data = 67,
    Map_Info_Request = 68,
    Request_Chunk_Radius = 69,
    Chunk_Radius_Update = 70,
    Game_Rules_Changed = 72,
    Camera = 73,
    Boss_Event = 74,
    Show_Credits = 75,
    Available_Commands = 76,
    Command_Request = 77,
    Command_Block_Update = 78,
    Command_Output = 79,
    Update_Trade = 80,
    Update_Equipment = 81,
    Resource_Pack_Data_Info = 82,
    Resource_Pack_Chunk_Data = 83,
    Resource_Pack_Chunk_Request = 84,
    Transfer = 85,
    Play_Sound = 86,
    Stop_Sound = 87,
    Set_Title = 88,
    Add_Behavior_Tree = 89,
    Structure_Block_Update = 90,
    Show_Store_Offer = 91,
    Purchase_Receipt = 92,
    Player_Skin = 93,
    Sub_Client_Login = 94,
    Initiate_Web_Socket_Connection = 95,
    Set_Last_Hurt_By = 96,
    Book_Edit = 97,
    NPC_Request = 98,
    Photo_Transfer = 99,
    Modal_Form_Request = 100,
    Modal_Form_Response = 101,
    Server_Settings_Request = 102,
    Server_Settings_Response = 103,
    Show_Profile = 104,
    Set_Default_Game_Type = 105,
    Remove_Objective = 106,
    Set_Display_Objective = 107,
    Set_Score = 108,
    Lab_Table = 109,
    Update_Block_Synced = 110,
    Move_Entity_Delta = 111,
    Set_Scoreboard_Identity = 112,
    Set_Local_Player_As_Initialized = 113,
    Update_Soft_Enum = 114,
    Network_Stack_Latency = 115,
    Script_Custom_Event = 117,
    Spawn_Particle_Effect = 118,
    Available_Entity_Identifiers = 119,
    Level_Sound_Event_V2 = 120,
    Network_Chunk_Publisher_Update = 121,
    Biome_Definition_List = 122,
    Level_Sound_Event = 123,
    Level_Event_Generic = 124,
    Lectern_Update = 125,
    Video_Stream_Connect = 126,
    Client_Cache_Status = 129,
    On_Screen_Texture_Animation = 130,
    Map_Create_Locked_Copy = 131,
    Structure_Template_Data_Export_Request = 132,
    Structure_Template_Data_Export_Response = 133,
    Update_Block_Properties = 134,
    Client_Cache_Blob_Status = 135,
    Client_Cache_Miss_Response = 136,
    Education_Settings = 137,
    Emote = 138,
    Multiplayer_Settings = 139,
    Settings_Command = 140,
    Anvil_Damage = 141,
    Completed_Using_Item = 142,
    Network_Settings = 143,
    Player_Auth_Input = 144,
    Creative_Content = 145,
    Player_Enchant_Options = 146,
    Item_Stack_Request = 147,
    Item_Stack_Response = 148,
    Player_Armor_Damage = 149,
    Update_Player_Game_Type = 151,
    Emote_List = 152,
    Position_Tracking_Db_Request = 153,
    Position_Tracking_Db_Broadcast = 154,
    Packet_Violation_Warning = 156,
    Motion_Prediction_Hints = 157,
    Animate_Entity = 158,
    Camera_Shake = 159,
    Player_Fog = 160,
    Correct_Player_Move_Prediction = 161,
    Item_Component = 162,
    Filter_Text = 163,
    Debug_Renderer = 164,
    Sync_Entity_Property = 165,
    Add_Volume_Entity = 166,
    Remove_Volume_Entity = 167,
    Simulation_Type_Datatype = 168,
    Npc_Dialogue = 169,
    Edu_Uri_Resource_Datatype = 170,
    Create_Photo = 171,
    Update_Subchunk_Blocks = 172,
    Photo_Info_Request = 173,
    Subchunk = 174,
    Subchunk_Request = 175,
    Client_Start_Item_Cooldown = 176,
    Script_Message = 177,
    Code_Builder_Source = 178,
    Ticking_Areas_Load_Status = 179,
    Dimension_Data = 180,
    Agent_Action = 181,
    Change_Mob_Property = 182,
    Lesson_Progress = 183,
    Request_Ability = 184,
    Request_Permissions = 185,
    Toast_Request = 186,
    Update_Abilities = 187,
    Update_Adventure_Settings = 188,
    Death_Info = 189,
    Editor_Network = 190,
    Feature_Registry = 191,
    Server_Stats = 192,
    Request_Network_Settings = 193,
    Game_Test_Request = 194,
    Game_Test_Results = 195,
    Update_Client_Input_Locks = 196,
    Client_Cheat_Ability = 197,
    Camera_Presets = 198,
    Unlocked_Recipes = 199,
    Camera_Instruction = 300,
    Compressed_Biome_Definitions = 301,
    Trim_Data = 302,
    Open_Sign = 303,
    Agent_Animation = 304,
    Refresh_Entitlements = 305,
    Toggle_Crafter_Slot_Request_Datatype = 306,
    Set_Player_Inventory_Options_Datatype = 307,
    Set_Hud_Datatype = 308,
};

class Packet {
public:
    template<PacketID type>
    static auto createPacket(void) -> std::shared_ptr<Packet> {
        using CreatePacket = std::shared_ptr<Packet> (__fastcall*)(PacketID);
        static auto _CreatePacket = (CreatePacket)(Mem::findSig("40 53 48 83 EC 30 45 33 C0 48 8B D9 FF CA 81 FA 33 01 00 00 0F 87 00 0D 00 00 48 63 C2 48")->get(Signature::SearchType::Default));

        return _CreatePacket(type);
    };
};